# OMAPS dataset defaults: paths, sampling, and target generation.
dataset:
  name: OMAPS
  root_dir: data/omaps
  annotations_root: data/omaps
  label_format: txt
  label_targets: [pitch, onset, offset, hand, clef]
  max_clips: null
  manifest:
    train: null
    val: null
    test: null
  split: train
  split_train: train
  split_val: val
  split_test: test
  frames: 96
  decode_fps: 30.0
  hop_seconds: 0.03333333333333333
  skip_seconds: 15.0
  resize: [145, 1024]
  tiles: 3
  channels: 3
  grayscale: false
  normalize: true
  apply_crop: true
  canonical_hw: [145, 1024]
  registration:
    enable: true
    source: metadata
    interp: bilinear
    global_aug:
      enabled: false
      color_jitter:
        brightness: 0.1
        contrast: 0.1
  avlag:
    enable: true
  batch_size: 2
  num_workers: 2
  prefetch_factor: 1
  shuffle: true
  sampler:
    mode: onset_balanced
    onset_frac: 0.5
    nearmiss_frac: 0.25
    bg_frac: 0.25
    nearmiss_radius: 6
  require_labels: true
  testing:
    canary_json: tivit/tests/resources/omaps_canaries.json
    default_canary_count: 2
    regen_canaries: false
    enable_cache_equiv: false
    enable_audit_export: true
    audit_dir: tivit/tests/resources/audit/omaps
    cache_off: true
    strict_sampling: false
    strict_labels: false
    strict_fallback: false
    log_level: detailed
    export_report_json: true
    report_json_path: tivit/tests/resources/audit/omaps/model_readiness_report.jsonl
    max_event_examples: 2
    warn_fps_tolerance: 0.5
    warn_out_of_window_ratio: 0.2
    enable_debug_extras: false
